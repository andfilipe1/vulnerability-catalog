

url = "/catalog/vulnerability/data/json/filter/?field=risk"


/* Creating the risk bar layout: */

var bar = d3.select("#riskBar")
                .append("div")
                .attr("role", "progressbar")
                .attr("aria-valuemin", "0")
                .attr("aria-valuemax", "100");
              //.class("progress-bar bg-danger")
              //.attr("aria-valuenow","<valuenow>")
              //.style("width: <width>%");


var data;
d3.json(url, function(d) {
  data = d;

  d3.select("#riskBar")
    .data(data).enter()

    var total = function(d) {
      for (var value in d.risk) {
        total = total + value;
      }
      return total;
    } 

    console.log(total(data)); 

});
