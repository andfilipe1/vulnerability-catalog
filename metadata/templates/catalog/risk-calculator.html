<script>
function riskCalculator() {

var riskLevel; // This should be ["High", "Medium", "Low"]
var riskArray = []; // Get all the provided risk metrics.

// Get all risk measures:
var infoVolumeRiskValue = document
                         .getElementsByName("infoVolumeRisk")[0]
                         .valueAsNumber;
riskArray.push(infoVolumeRiskValue);

var outageRiskValue = document
                     .getElementsByName("outageRisk")[0]
                     .valueAsNumber;
riskArray.push(outageRiskValue);

var strategicInfoRiskValue = document
                            .getElementsByName("strategicInfoRisk")[0]
                            .valueAsNumber;
riskArray.push(strategicInfoRiskValue);

var financialRiskValue = document
                        .getElementsByName("financialRisk")[0]
                        .valueAsNumber;
riskArray.push(financialRiskValue);

var unrecoverabilityRiskValue = document
                               .getElementsByName("unrecoverabilityRisk")[0]
                               .valueAsNumber;
riskArray.push(unrecoverabilityRiskValue);

// Adding all values:
var totalRiskValue = riskArray.reduce((a, b) => a + b, 0);

//// Evaluating the risk level:

// If an unique measure is greater than 7, risk level is High:
if ( riskArray.some(
              function(element, index, array) { 
              return element > 7;})
   ) {
    riskLevel = "High";

// If an unique measure is great than 4, risk level is Medium:
} else if ( riskArray.some(
              function(element, index, array) { 
              return element > 4;})
          ) {
    riskLevel = "Medium";

} else { // risk level depends on the evaluation of all fields:
  if (0 <= totalRiskValue && totalRiskValue <= 10)
    riskLevel = "Low";
  if (10 < totalRiskValue && totalRiskValue <= 30)
    riskLevel = "Medium";
  if (30 < totalRiskValue && totalRiskValue <= 50)
    riskLevel = "High";
}

document.getElementsByName("totalRiskValue")[0].innerHTML = totalRiskValue;
document.getElementsByName("riskLevel")[0].innerHTML = riskLevel;

// setting colors:
if (riskLevel == "High") {
  document.getElementsByName("riskLevel")[0]
          .setAttribute("class", "badge badge-danger");
} 
else if (riskLevel == "Medium") {
  document.getElementsByName("riskLevel")[0]
          .setAttribute("class", "badge badge-warning");
} 
else if (riskLevel == "Low") {
  document.getElementsByName("riskLevel")[0]
          .setAttribute("class", "badge badge-secondary");
} else {
  document.getElementsByName("riskLevel")[0]
          .setAttribute("class", "badge badge-secondary");
}
}
</script>
<form name="riskForm" oninput="riskCalculator()">
<div class="container">

  <div class="card">
    <div class="card-header">
<div class="row">
  <div class="col">
    <strong>Risk level:</strong>
    <Big><strong><span name="totalRiskValue">0</span></strong></Big><small> / 50.</small>
  </div>
  <div class="col text-right">
    <h3><span class="badge badge-secondary" name="riskLevel">Low</span></h3>
  </div>
</div>
    </div>
    <div class="card-body">
      <div class="card-block">
        <p>From the correct exploitation of the vulnerability <strong>business</strong> should expect:</p> 
      </div>
      <hr>
      <div class="card-block">
        <div class="row">
          <div class="col">
            <span><strong>1. Volume of business information out of control:</strong></span>
          </div>
          <div class="col">
            <input name="infoVolumeRisk" type="range" min="0" max="10" value="0" title="Evaluate it in terms of loss of confidentiality, integrity or authenticity.">
            <strong><output name="infoVolumeRiskValue" for="infoVolumeRisk"></output></strong>
          </div>
        </div>
      </div>
      <hr>
      <div class="card-block">
        <div class="row">
          <div class="col">
            <span><strong>2. Outage business time due to unavailability of targeted information:</strong></span>
          </div>
          <div class="col">
            <input name="outageRisk" type="range" min="0" max="10" value="0">
            <strong><output name="outageRiskValue" for="outageRisk"></output></strong>
          </div>
        </div>
      </div>
      <hr>
      <div class="card-block">
        <div class="row">
          <div class="col">
            <span><strong>3. Strategical business information at risk due to the vulnerability:</strong></span>
          </div>
          <div class="col">
            <input name="strategicInfoRisk" type="range" min="0" max="10" value="0">
            <strong><output name="strategicInfoRiskValue" for="strategicInfoRisk"></output></strong>
          </div>
        </div>
      </div>
      <hr>
      <div class="card-block">
        <div class="row">
          <div class="col">
            <span><strong>4. Adverse business financial impact due to vulnerability exploitation:</strong></span>
          </div>
          <div class="col">
            <input name="financialRisk" type="range" min="0" max="10" value="0">
            <strong><output name="financialRiskValue" for="financialRisk"></output></strong>
          </div>
        </div>
      </div>
      <hr>
      <div class="card-block">
        <div class="row">
          <div class="col">
            <span><strong>5. Business unrecoverability due to the vulnerability exploitation and its consequences:</strong></span>
          </div>
          <div class="col">
            <input name="unrecoverabilityRisk" type="range" min="0" max="10" value="0">
            <strong><output name="unrecoverabilityRiskValue" for="unrecoverabilityRisk"></output></strong>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</form>
<br class="clear">
<br class="clear">
